{% set version = load_setup_py_data(setup_file='../setup.py', from_recipe_dir=True).get('version') %}

package:
  name: pdfstream
  version: {{ version }}

source:
  path: ../dist/pdfstream-{{ version }}0.tar.gz

build:
  noarch: python
  number: 0
  script: "{{ PYTHON }} -m pip install {{ SRC_DIR }}/pdfstream-{{ version }}0.tar.gz --no-deps -vv"

requirements:
  host:
    - python >=3.6
    - pip
  run:
    - python >=3.6
    - setuptools
    - versioneer
    - numpy
    - matplotlib
    - scipy
    - diffpy-cmi
    - xpdtools
    - streamz

test:
  imports:
    - pdfstream
    - pdfstream.bonfire
